<html>
<head>
	<title>Create Account</title>
	<script src="https://code.jquery.com/jquery-3.1.0.js"></script>
	<script type="text/javascript" src="js/firebaseFunctions.js"></script>
	<script type="text/javascript" src="js/session.js"></script>
	<script type="text/javascript" src="classes/app.js"></script>

	<script src="https://www.gstatic.com/firebasejs/6.0.1/firebase.js"></script>
	<!-- CSS -->
	<link rel="stylesheet" type="text/css" href="css/style.css">
	<link rel="stylesheet" href="https://unpkg.com/purecss@1.0.0/build/pure-min.css" integrity="sha384-nn4HPE8lTHyVtfCBi5yW9d20FjT8BJwUXyWZT9InLYax14RDjBj46LmSztkmNP9w" crossorigin="anonymous">
</head>
<body>

	<header>
		<h1>AppHub</h1>
		<div id="header-buttons">
			<a href = "index.html" class = "header-button" id = "home-button">
					<button id = "header-home">Home</button></a>
			<a href="login.html"  class="header-button" id="login-button">
				<button id="header-logIn">Login</button></a>
			<a href="appProposal.html" class="header-button" id="proposal-button">
				<button>Submit an App</button>
			</a>
			<a href="#" class="header-button" id="signout-button" onclick="signOut()">
				<button>Sign Out</button>
			</a>
			<a href="reviewApp.html" class="header-button" id="app-review-button" style="display:none;">
				<button>Review App Proposals</button>
			</a>
		</div>
	</header>

	<h1>Create Account</h1>
	<span>Username:</span><input type="text" id="username">
	<br>
	<span>Password:</span><input type="password" id="password">
	<br>
	<span>Repeat Password:</span><input type="password" id="password2">
	<button id="enter" onclick="createAccount()">Enter</button>


<script>

$(document).on('keypress',function(e) {
	//e==13 means the Enter key was pressed
	if(e.which == 13) {
        createAccount();
    }
});
	
function createAccount(){
	var username = $("#username").val();
	var password = $("#password").val();
	var password2 = $("#password2").val();


	
	if(password != password2){
		//passwords must match
		alert("Passwords do not match");
	}else if(username.length == 0){
		//username can't be empty
		alert("Username cannot be empty");
	}else if(password.length < 6){
		//password must be 6 characters long
		alert("Password must be at least 6 characters long");
	}else{
		checkExistingUsername(new User(username, password)); //firebaseFunctions.js
	}

}

	
</script>
</body>
</html>